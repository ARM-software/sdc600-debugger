<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>SDC-600 debugger interfaces: ext_com_port_driver.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDC-600 debugger interfaces
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ext_com_port_driver.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This header file is the entry point to External COM Port Driver functionality and includes all necessary definitions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="secure__debug__manager_8h_source.html">secure_debug_manager.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ext_com_port_driver.h:</div>
<div class="dyncontent">
<div class="center"><img src="ext__com__port__driver_8h__incl.png" border="0" usemap="#ext__com__port__driver_8h" alt=""/></div>
<map name="ext__com__port__driver_8h" id="ext__com__port__driver_8h">
<area shape="rect" id="node2" href="secure__debug__manager_8h.html" title="This header file is the entry point to Secure Debug Manager functionality and includes all necessary ..." alt="" coords="5,80,193,107"/>
</map>
</div>
</div>
<p><a href="ext__com__port__driver_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aa1c8aaa126c9f90eaf48b7e0bc89209a"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="ext__com__port__driver_8h.html#a5b485462db0c52ec1b1b11be61adab79">ECPDProtFlagBytes</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext__com__port__driver_8h.html#aa1c8aaa126c9f90eaf48b7e0bc89209a">ECPDProtFlagBytes</a></td></tr>
<tr class="memdesc:aa1c8aaa126c9f90eaf48b7e0bc89209a"><td class="mdescLeft">&#160;</td><td class="mdescRight">SDC-600 COM port protocol flag bytes.  <a href="#aa1c8aaa126c9f90eaf48b7e0bc89209a">More...</a><br /></td></tr>
<tr class="separator:aa1c8aaa126c9f90eaf48b7e0bc89209a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b4f9097b4199470785a3440856b13d8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2b4f9097b4199470785a3440856b13d8"></a>
typedef enum <a class="el" href="ext__com__port__driver_8h.html#a5c2aa5dc08e252e0ba0ec0eb7c5a1a4c">ECPDRequiredState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext__com__port__driver_8h.html#a2b4f9097b4199470785a3440856b13d8">ECPDRequiredState</a></td></tr>
<tr class="memdesc:a2b4f9097b4199470785a3440856b13d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Required states for <a class="el" href="ext__com__port__driver_8h.html#a6e9d71035c19bdff2650c6254354e7a2">EComPort_Power</a>. <br /></td></tr>
<tr class="separator:a2b4f9097b4199470785a3440856b13d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a439cc36789ecd8151a2903199e21e985"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a439cc36789ecd8151a2903199e21e985"></a>
typedef enum <a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0">ECPDReturnCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext__com__port__driver_8h.html#a439cc36789ecd8151a2903199e21e985">ECPDReturnCode</a></td></tr>
<tr class="memdesc:a439cc36789ecd8151a2903199e21e985"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return codes for ECPD_* functionality. <br /></td></tr>
<tr class="separator:a439cc36789ecd8151a2903199e21e985"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a5b485462db0c52ec1b1b11be61adab79"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext__com__port__driver_8h.html#a5b485462db0c52ec1b1b11be61adab79">ECPDProtFlagBytes</a> { <br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a5b485462db0c52ec1b1b11be61adab79abbabe5757f3592f48bbef249b54eb3fb">FLAG_IDR</a> = 0xA0, 
<br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a5b485462db0c52ec1b1b11be61adab79a8c70be911334a7781832a0c92c45f3fb">FLAG_IDA</a> = 0xA1, 
<br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a5b485462db0c52ec1b1b11be61adab79a37bcc752d504baa0ac740a38f7f6e8ed">FLAG_LPH1RA</a> = 0xA6, 
<br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a5b485462db0c52ec1b1b11be61adab79a4676dbb01589f3a0ebd0513d079cc569">FLAG_LPH1RL</a> = 0xA7, 
<br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a5b485462db0c52ec1b1b11be61adab79a9635740788e425b2af11983a90be55fc">FLAG_LPH2RA</a> = 0xA8, 
<br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a5b485462db0c52ec1b1b11be61adab79a820275e7adacf7e51566d548a45e5ad3">FLAG_LPH2RL</a> = 0xA9, 
<br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a5b485462db0c52ec1b1b11be61adab79ad558962dd7293c60a0a0f63d0d575e69">FLAG_LPH2RR</a> = 0xAA, 
<br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a5b485462db0c52ec1b1b11be61adab79a221ae149592249a88f7f0a3c4c930ca9">FLAG_LERR</a> = 0xAB, 
<br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a5b485462db0c52ec1b1b11be61adab79acb55e8d02616446a40346a808fce3df2">FLAG_START</a> = 0xAC, 
<br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a5b485462db0c52ec1b1b11be61adab79a418554ee66073c456a67b69765c2047b">FLAG_END</a> = 0xAD, 
<br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a5b485462db0c52ec1b1b11be61adab79a5b02ec6222b678eacbe8a65ee8bfa642">FLAG_ESC</a> = 0xAE, 
<br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a5b485462db0c52ec1b1b11be61adab79ac064bc1be18f95749f5ba4ce52348920">FLAG__NULL</a> = 0xAF
<br />
 }<tr class="memdesc:a5b485462db0c52ec1b1b11be61adab79"><td class="mdescLeft">&#160;</td><td class="mdescRight">SDC-600 COM port protocol flag bytes.  <a href="ext__com__port__driver_8h.html#a5b485462db0c52ec1b1b11be61adab79">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a5b485462db0c52ec1b1b11be61adab79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c2aa5dc08e252e0ba0ec0eb7c5a1a4c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext__com__port__driver_8h.html#a5c2aa5dc08e252e0ba0ec0eb7c5a1a4c">ECPDRequiredState</a> { <br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a5c2aa5dc08e252e0ba0ec0eb7c5a1a4cab82df7e0f8776d4ff580e2c7c9554ea2">ECPD_POWER_OFF</a>, 
<br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a5c2aa5dc08e252e0ba0ec0eb7c5a1a4ca600c855d8f789460ae3a37e787da4cea">ECPD_POWER_ON</a>
<br />
 }<tr class="memdesc:a5c2aa5dc08e252e0ba0ec0eb7c5a1a4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Required states for <a class="el" href="ext__com__port__driver_8h.html#a6e9d71035c19bdff2650c6254354e7a2">EComPort_Power</a>.  <a href="ext__com__port__driver_8h.html#a5c2aa5dc08e252e0ba0ec0eb7c5a1a4c">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a5c2aa5dc08e252e0ba0ec0eb7c5a1a4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a525b403292210bff84a0ca5aaf4d25b0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0">ECPDReturnCode</a> { <br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0a3d5c9c6e198a65a8d72873a7c2d6db0a">ECPD_SUCCESS</a>, 
<br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0a92809d924ec847548cd0cb0bcf5b9f31">ECPD_TIMEOUT</a>, 
<br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0a08c7ca9fb3fbf57e51c1da087a8c8180">ECPD_UNEXPECTED_SYMBOL</a>, 
<br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0ad368cfecec323521a7be8a84f5d7691f">ECPD_LINK_ERR</a>, 
<br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0aeb7934cef173030e3a1eeac4044ae0ce">ECPD_NO_INTI</a>, 
<br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0ad1f4634a6d8154229b1ddded15b296ae">ECPD_BUFFER_OVERFLOW</a>, 
<br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0a84781d156f79810331fc5eb5f88140d8">ECPD_TX_FAIL</a>, 
<br />
&#160;&#160;<a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0afa144b23fae2778a51678272fb0643fd">ECPD_RX_FAIL</a>
<br />
 }<tr class="memdesc:a525b403292210bff84a0ca5aaf4d25b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return codes for ECPD_* functionality.  <a href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a525b403292210bff84a0ca5aaf4d25b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac90edbf2d04242b53f896063d7ebb909"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0">ECPDReturnCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext__com__port__driver_8h.html#ac90edbf2d04242b53f896063d7ebb909">EComPort_Init</a> (<a class="el" href="secure__debug__manager_8h.html#adda19af6d42341bbb844ff2b30761274">SDMResetType</a> resetType, uint8_t *idResponseBuffer, size_t idBufferLength, <a class="el" href="structSDMDebugIf.html">SDMDebugIf</a> *pDebugIF)</td></tr>
<tr class="separator:ac90edbf2d04242b53f896063d7ebb909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e9d71035c19bdff2650c6254354e7a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0">ECPDReturnCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext__com__port__driver_8h.html#a6e9d71035c19bdff2650c6254354e7a2">EComPort_Power</a> (<a class="el" href="ext__com__port__driver_8h.html#a5c2aa5dc08e252e0ba0ec0eb7c5a1a4c">ECPDRequiredState</a> requiredState)</td></tr>
<tr class="separator:a6e9d71035c19bdff2650c6254354e7a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c8b81261fb90d97dd6cccf6b4215806"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0">ECPDReturnCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext__com__port__driver_8h.html#a5c8b81261fb90d97dd6cccf6b4215806">EComPort_RReboot</a> (void)</td></tr>
<tr class="separator:a5c8b81261fb90d97dd6cccf6b4215806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7626758e1854fe08ac087b431d7c750a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0">ECPDReturnCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext__com__port__driver_8h.html#a7626758e1854fe08ac087b431d7c750a">EComPort_Tx</a> (uint8_t *txBuffer, size_t txBufferLength, size_t *actualLength)</td></tr>
<tr class="separator:a7626758e1854fe08ac087b431d7c750a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e0fd7efdb3ffeea3f0805f2810426cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0">ECPDReturnCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ext__com__port__driver_8h.html#a3e0fd7efdb3ffeea3f0805f2810426cb">EComPort_Rx</a> (uint8_t *rxBuffer, size_t rxBufferLength, size_t *actualLength)</td></tr>
<tr class="separator:a3e0fd7efdb3ffeea3f0805f2810426cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This header file is the entry point to External COM Port Driver functionality and includes all necessary definitions. </p>

<p>Definition in file <a class="el" href="ext__com__port__driver_8h_source.html">ext_com_port_driver.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="aa1c8aaa126c9f90eaf48b7e0bc89209a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="ext__com__port__driver_8h.html#a5b485462db0c52ec1b1b11be61adab79">ECPDProtFlagBytes</a>  <a class="el" href="ext__com__port__driver_8h.html#a5b485462db0c52ec1b1b11be61adab79">ECPDProtFlagBytes</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SDC-600 COM port protocol flag bytes. </p>
<p>Arm Advanced Communications Channel Architecture Specification (ARM IHI 0076) compliant </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a5b485462db0c52ec1b1b11be61adab79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ext__com__port__driver_8h.html#a5b485462db0c52ec1b1b11be61adab79">ECPDProtFlagBytes</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SDC-600 COM port protocol flag bytes. </p>
<p>Arm Advanced Communications Channel Architecture Specification (ARM IHI 0076) compliant </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a5b485462db0c52ec1b1b11be61adab79abbabe5757f3592f48bbef249b54eb3fb"></a>FLAG_IDR&#160;</td><td class="fielddoc">
<p>Identification request </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a5b485462db0c52ec1b1b11be61adab79a8c70be911334a7781832a0c92c45f3fb"></a>FLAG_IDA&#160;</td><td class="fielddoc">
<p>Identification acknowledge </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a5b485462db0c52ec1b1b11be61adab79a37bcc752d504baa0ac740a38f7f6e8ed"></a>FLAG_LPH1RA&#160;</td><td class="fielddoc">
<p>Link phase 1 request/acknowledge </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a5b485462db0c52ec1b1b11be61adab79a4676dbb01589f3a0ebd0513d079cc569"></a>FLAG_LPH1RL&#160;</td><td class="fielddoc">
<p>Link phase 1 release/acknowledge </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a5b485462db0c52ec1b1b11be61adab79a9635740788e425b2af11983a90be55fc"></a>FLAG_LPH2RA&#160;</td><td class="fielddoc">
<p>Link phase 2 request/acknowledge </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a5b485462db0c52ec1b1b11be61adab79a820275e7adacf7e51566d548a45e5ad3"></a>FLAG_LPH2RL&#160;</td><td class="fielddoc">
<p>Link phase 2 release/acknowledge </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a5b485462db0c52ec1b1b11be61adab79ad558962dd7293c60a0a0f63d0d575e69"></a>FLAG_LPH2RR&#160;</td><td class="fielddoc">
<p>Link phase 2 reboot request </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a5b485462db0c52ec1b1b11be61adab79a221ae149592249a88f7f0a3c4c930ca9"></a>FLAG_LERR&#160;</td><td class="fielddoc">
<p>Link error </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a5b485462db0c52ec1b1b11be61adab79acb55e8d02616446a40346a808fce3df2"></a>FLAG_START&#160;</td><td class="fielddoc">
<p>Start of Protocol Data Unit </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a5b485462db0c52ec1b1b11be61adab79a418554ee66073c456a67b69765c2047b"></a>FLAG_END&#160;</td><td class="fielddoc">
<p>End of Protocol Data Unit </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a5b485462db0c52ec1b1b11be61adab79a5b02ec6222b678eacbe8a65ee8bfa642"></a>FLAG_ESC&#160;</td><td class="fielddoc">
<p>Escape </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a5b485462db0c52ec1b1b11be61adab79ac064bc1be18f95749f5ba4ce52348920"></a>FLAG__NULL&#160;</td><td class="fielddoc">
<p>Null </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="ext__com__port__driver_8h_source.html#l00048">48</a> of file <a class="el" href="ext__com__port__driver_8h_source.html">ext_com_port_driver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5c2aa5dc08e252e0ba0ec0eb7c5a1a4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ext__com__port__driver_8h.html#a5c2aa5dc08e252e0ba0ec0eb7c5a1a4c">ECPDRequiredState</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Required states for <a class="el" href="ext__com__port__driver_8h.html#a6e9d71035c19bdff2650c6254354e7a2">EComPort_Power</a>. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a5c2aa5dc08e252e0ba0ec0eb7c5a1a4cab82df7e0f8776d4ff580e2c7c9554ea2"></a>ECPD_POWER_OFF&#160;</td><td class="fielddoc">
<p>Release COM port link power </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a5c2aa5dc08e252e0ba0ec0eb7c5a1a4ca600c855d8f789460ae3a37e787da4cea"></a>ECPD_POWER_ON&#160;</td><td class="fielddoc">
<p>Setup COM port link power </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="ext__com__port__driver_8h_source.html#l00067">67</a> of file <a class="el" href="ext__com__port__driver_8h_source.html">ext_com_port_driver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a525b403292210bff84a0ca5aaf4d25b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0">ECPDReturnCode</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return codes for ECPD_* functionality. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a525b403292210bff84a0ca5aaf4d25b0a3d5c9c6e198a65a8d72873a7c2d6db0a"></a>ECPD_SUCCESS&#160;</td><td class="fielddoc">
<p>Success, no error </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a525b403292210bff84a0ca5aaf4d25b0a92809d924ec847548cd0cb0bcf5b9f31"></a>ECPD_TIMEOUT&#160;</td><td class="fielddoc">
<p>No response, timeout </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a525b403292210bff84a0ca5aaf4d25b0a08c7ca9fb3fbf57e51c1da087a8c8180"></a>ECPD_UNEXPECTED_SYMBOL&#160;</td><td class="fielddoc">
<p>Unexpected symbol received </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a525b403292210bff84a0ca5aaf4d25b0ad368cfecec323521a7be8a84f5d7691f"></a>ECPD_LINK_ERR&#160;</td><td class="fielddoc">
<p>Link dropped during transmit </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a525b403292210bff84a0ca5aaf4d25b0aeb7934cef173030e3a1eeac4044ae0ce"></a>ECPD_NO_INTI&#160;</td><td class="fielddoc">
<p><a class="el" href="ext__com__port__driver_8h.html#ac90edbf2d04242b53f896063d7ebb909">EComPort_Init</a> was not called, or called and returned and error </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a525b403292210bff84a0ca5aaf4d25b0ad1f4634a6d8154229b1ddded15b296ae"></a>ECPD_BUFFER_OVERFLOW&#160;</td><td class="fielddoc">
<p>Provided buffer is too small for message received </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a525b403292210bff84a0ca5aaf4d25b0a84781d156f79810331fc5eb5f88140d8"></a>ECPD_TX_FAIL&#160;</td><td class="fielddoc">
<p>Failed to transmit data from the SDC-600 COM port device - e.g. TX FIFO doesn not drain </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a525b403292210bff84a0ca5aaf4d25b0afa144b23fae2778a51678272fb0643fd"></a>ECPD_RX_FAIL&#160;</td><td class="fielddoc">
<p>Failed to receive data from the SDC-600 COM port device </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="ext__com__port__driver_8h_source.html#l00075">75</a> of file <a class="el" href="ext__com__port__driver_8h_source.html">ext_com_port_driver.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ac90edbf2d04242b53f896063d7ebb909"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0">ECPDReturnCode</a> EComPort_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="secure__debug__manager_8h.html#adda19af6d42341bbb844ff2b30761274">SDMResetType</a>&#160;</td>
          <td class="paramname"><em>resetType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>idResponseBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>idBufferLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSDMDebugIf.html">SDMDebugIf</a> *&#160;</td>
          <td class="paramname"><em>pDebugIF</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is called by the Secure Debug Manager to initiate the External COM port driver and the COM port link. It supports an option to remote reboot the debugged system using resetType before it starts the communication (this option is used when the secure debug certificate shall be introduced at early boot while the remote platform is already running and the DCUs are locked at ROM exit).</p>
<p>Upon success, the IDResponseBuffer will hold the IDA response of the remote platform (6 bytes). This is used to detect what high level protocol the remote system supports. In the secure debug case the protocol is ‘TBD’. IDBufferLength must be 6.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">resetType</td><td>Required reset type. Should be the same as used with Secure Debug Manager <a class="el" href="secure__debug__manager_8h.html#a328d41ea858b67dfde7795a07b713211">SDM_Init</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">IDResponseBuffer</td><td>Client supplied buffer to receive the IDA response. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">IDBufferLength</td><td>Size in bytes of the IDA response client supplied buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pDebugIF</td><td>The same <a class="el" href="structSDMDebugIf.html" title="Collection of connection details for SDM_Init() and EComPort_Init() ">SDMDebugIf</a> as the Secure Debug Manger received from the debugger at <a class="el" href="secure__debug__manager_8h.html#a328d41ea858b67dfde7795a07b713211">SDM_Init</a>, with the same callbacks and connection details. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6e9d71035c19bdff2650c6254354e7a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0">ECPDReturnCode</a> EComPort_Power </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ext__com__port__driver_8h.html#a5c2aa5dc08e252e0ba0ec0eb7c5a1a4c">ECPDRequiredState</a>&#160;</td>
          <td class="paramname"><em>requiredState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This internal function is called by <a class="el" href="ext__com__port__driver_8h.html#ac90edbf2d04242b53f896063d7ebb909">EComPort_Init</a> and by <a class="el" href="secure__debug__manager_8h.html#a50fda914abd31eacb92ff898bb8d2c18">SDM_End</a>. Internal CurrentPowerState should be maintained (default is off).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">requiredState</td><td>Required power state. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5c8b81261fb90d97dd6cccf6b4215806"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0">ECPDReturnCode</a> EComPort_RReboot </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is called by <a class="el" href="secure__debug__manager_8h.html#a50fda914abd31eacb92ff898bb8d2c18">SDM_End</a> and by the <a class="el" href="ext__com__port__driver_8h.html#ac90edbf2d04242b53f896063d7ebb909">EComPort_Init</a> to remote reboot the debugged system when the DCUs are locked at ROM exit. </p>

</div>
</div>
<a class="anchor" id="a7626758e1854fe08ac087b431d7c750a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0">ECPDReturnCode</a> EComPort_Tx </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>txBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>txBufferLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>actualLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The transmit side of the driver receives from the Secure Debug Manager a message to transmit in the provided buffer. The transmitter is transparent to the caller and the provided buffer may include any byte values (including values that are SDC-600 flag bytes). The EComPort_Tx provides transparent transmit interface.</p>
<p>The <a class="el" href="ext__com__port__driver_8h.html#a7626758e1854fe08ac087b431d7c750a">EComPort_Tx</a> function is responsible to inject to the External COM Port transmit FIFO HW a FLAG_START flag, followed by the message bytes from the buffer and at the end it is responsible to inject to the transmit HW an FLAG_END flag. While transmitting any byte from the buffer, the driver must detect if it is one of the SDC-600 COM Port flag values (bytes with an upper 3 bits of b101 are classified as Flag bytes). In such case the driver must inject ESC flag to the transmitter and flips the MS bit of the byte and transmits the modified byte.</p>
<p>In case during the transmit the driver detects timeout (debugged system does not consume its RX FIFO) the transmitter stops and returns an error.</p>
<p>Secure Debug Manager should only call this after a successful <a class="el" href="secure__debug__manager_8h.html#a328d41ea858b67dfde7795a07b713211">SDM_Init</a>, meaning that the Internal COM port is powered, its link is set, its communication protocol verified and its driver is ready for further communication.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">txBuffer</td><td>Transmit buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">txBufferLength</td><td>Size in bytes of the transmit buffer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">actualLength</td><td>Updated with the number of bytes consumed from the TxBuffer, it should be equal to TxBufferLength. Does not count the FLAG_START and FLAG_END flags. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3e0fd7efdb3ffeea3f0805f2810426cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ext__com__port__driver_8h.html#a525b403292210bff84a0ca5aaf4d25b0">ECPDReturnCode</a> EComPort_Rx </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>rxBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>rxBufferLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>actualLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>At its receive side, the External COM port driver receives from the SDC-600 External COM port receiver a protocol message (which is stuffed by the required FLAG_ESC flag bytes) that starts with FLAG_START and ends with FLAG_END. The receive side of the driver strips off the FLAG_START and FLAG_END of message flags and writes just the message content to the buffer it received from the Secure Debug Manager. While receiving, when the receiver detects ESC flag it drops it and replace the following received byte to its original value by flipping the MS bit.</p>
<p>In case the receiver detects a message that does not start with FLAG_START it drops it and reports an RX error.</p>
<p>In case the receiver detects a LPH2RL flag it drops it and reports link dropper RX error.</p>
<p>In case the receiver detects a message that starts with FLAG_START but it filled the receive buffer to its end prior to the detection of FLAG_END, it drops it and reports an RX length error.</p>
<p>Secure Debug Manager should only call this after a successful <a class="el" href="secure__debug__manager_8h.html#a328d41ea858b67dfde7795a07b713211">SDM_Init</a>, meaning that the Internal COM port is powered, its link is set, its communication protocol verified and its driver is ready for further communication.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">rxBuffer</td><td>Client supplied buffer to receive data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rxBufferLength</td><td>Size in bytes of the receive client supplied buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">actualLength</td><td>Updated with number of bytes filled in the rxBuffer, it should be less or equal to rxBufferLength. Does not count the FLAG_START, intermediate FLAG_ESC and FLAG_END flags. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
