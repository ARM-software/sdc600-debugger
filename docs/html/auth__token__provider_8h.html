<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>SDC-600 debugger interfaces: auth_token_provider.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDC-600 debugger interfaces
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">auth_token_provider.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This header file is the entry point to Authentication Token Provider functionality and includes all necessary definitions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;<a class="el" href="secure__debug__manager_8h_source.html">secure_debug_manager.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for auth_token_provider.h:</div>
<div class="dyncontent">
<div class="center"><img src="auth__token__provider_8h__incl.png" border="0" usemap="#auth__token__provider_8h" alt=""/></div>
<map name="auth__token__provider_8h" id="auth__token__provider_8h">
<area shape="rect" id="node3" href="secure__debug__manager_8h.html" title="This header file is the entry point to Secure Debug Manager functionality and includes all necessary ..." alt="" coords="95,80,283,107"/>
</map>
</div>
</div>
<p><a href="auth__token__provider_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a6a2ace273a0309aad465ec986d4fbfe9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6a2ace273a0309aad465ec986d4fbfe9"></a>
typedef enum <a class="el" href="auth__token__provider_8h.html#addbcc3f3a65c5dca295efa04a41f092e">ATPReturnCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth__token__provider_8h.html#a6a2ace273a0309aad465ec986d4fbfe9">ATPReturnCode</a></td></tr>
<tr class="memdesc:a6a2ace273a0309aad465ec986d4fbfe9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return codes for GenerateSecureDebugCertificate() functionality. <br /></td></tr>
<tr class="separator:a6a2ace273a0309aad465ec986d4fbfe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:addbcc3f3a65c5dca295efa04a41f092e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth__token__provider_8h.html#addbcc3f3a65c5dca295efa04a41f092e">ATPReturnCode</a> { <br />
&#160;&#160;<a class="el" href="auth__token__provider_8h.html#addbcc3f3a65c5dca295efa04a41f092ea789e560e79a091ec031e34ce3c96e201">ATP_SUCCESS</a>, 
<br />
&#160;&#160;<a class="el" href="auth__token__provider_8h.html#addbcc3f3a65c5dca295efa04a41f092eae2e9fb3252b4e7ac981129b0d4a74184">ATP_FAIL_NO_USER_CRED</a>, 
<br />
&#160;&#160;<a class="el" href="auth__token__provider_8h.html#addbcc3f3a65c5dca295efa04a41f092ea5c3f57e2505e314c2214d9bb20106fa4">ATP_FAIL_UNSUPP_SOCID</a>, 
<br />
&#160;&#160;<a class="el" href="auth__token__provider_8h.html#addbcc3f3a65c5dca295efa04a41f092ea44cba3b811c56f7c271570b941c68a6e">ATP_FAIL_SHORT_CERT_BUFFER</a>, 
<br />
&#160;&#160;<a class="el" href="auth__token__provider_8h.html#addbcc3f3a65c5dca295efa04a41f092ea07196854204cc1ea47a462abe74df7fa">ATP_FAIL</a>
<br />
 }<tr class="memdesc:addbcc3f3a65c5dca295efa04a41f092e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return codes for GenerateSecureDebugCertificate() functionality.  <a href="auth__token__provider_8h.html#addbcc3f3a65c5dca295efa04a41f092e">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:addbcc3f3a65c5dca295efa04a41f092e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab1822611ba153e6b4e6cea6ae1b7323c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="auth__token__provider_8h.html#addbcc3f3a65c5dca295efa04a41f092e">ATPReturnCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth__token__provider_8h.html#ab1822611ba153e6b4e6cea6ae1b7323c">ATP_GenerateSecureDebugCertificate</a> (char *pSocId, size_t socIdLen, char *pChallenge, size_t challengeLen, char *pCertificateBuffer, size_t bufferLen, size_t *actualBufferLen, <a class="el" href="structSDMDebugIf.html">SDMDebugIf</a> *pDebugIf)</td></tr>
<tr class="memdesc:ab1822611ba153e6b4e6cea6ae1b7323c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate secure debug certificate.  <a href="#ab1822611ba153e6b4e6cea6ae1b7323c">More...</a><br /></td></tr>
<tr class="separator:ab1822611ba153e6b4e6cea6ae1b7323c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This header file is the entry point to Authentication Token Provider functionality and includes all necessary definitions. </p>

<p>Definition in file <a class="el" href="auth__token__provider_8h_source.html">auth_token_provider.h</a>.</p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="addbcc3f3a65c5dca295efa04a41f092e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="auth__token__provider_8h.html#addbcc3f3a65c5dca295efa04a41f092e">ATPReturnCode</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return codes for GenerateSecureDebugCertificate() functionality. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="addbcc3f3a65c5dca295efa04a41f092ea789e560e79a091ec031e34ce3c96e201"></a>ATP_SUCCESS&#160;</td><td class="fielddoc">
<p>Success, no error </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="addbcc3f3a65c5dca295efa04a41f092eae2e9fb3252b4e7ac981129b0d4a74184"></a>ATP_FAIL_NO_USER_CRED&#160;</td><td class="fielddoc">
<p>Invalid user credentials for the debugged platform </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="addbcc3f3a65c5dca295efa04a41f092ea5c3f57e2505e314c2214d9bb20106fa4"></a>ATP_FAIL_UNSUPP_SOCID&#160;</td><td class="fielddoc">
<p>Unsupported remote platform SoCID </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="addbcc3f3a65c5dca295efa04a41f092ea44cba3b811c56f7c271570b941c68a6e"></a>ATP_FAIL_SHORT_CERT_BUFFER&#160;</td><td class="fielddoc">
<p>Provided buffer is too small to receive certificate </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="addbcc3f3a65c5dca295efa04a41f092ea07196854204cc1ea47a462abe74df7fa"></a>ATP_FAIL&#160;</td><td class="fielddoc">
<p>General fail </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="auth__token__provider_8h_source.html#l00048">48</a> of file <a class="el" href="auth__token__provider_8h_source.html">auth_token_provider.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab1822611ba153e6b4e6cea6ae1b7323c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="auth__token__provider_8h.html#addbcc3f3a65c5dca295efa04a41f092e">ATPReturnCode</a> ATP_GenerateSecureDebugCertificate </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pSocId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>socIdLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pChallenge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>challengeLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pCertificateBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bufferLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>actualBufferLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSDMDebugIf.html">SDMDebugIf</a> *&#160;</td>
          <td class="paramname"><em>pDebugIf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate secure debug certificate. </p>
<p>This function may be terminated on the debugger platform or may require communication to authorization server. It would need to verify the user’s credentials and grant full, or partial or no debug capabilities for the target platform per the provided SoCID. If the user does not have rights to debug the platform then a proper error code will be returned. If approved, a certificate is returned.</p>
<p>Note: It may take a fairly long time for this function to complete. While this function makes progress, it should call periodically the ProgressIndicationCallback with a progressive PercentComplete for the sake of the debugger’s user interface. If pDebugIF-&gt;callbacks-&gt;f_ProgressIndicationCallback is not NULL, pDebugIF-&gt;callbacks-&gt;f_ProgressIndicationCallback should be called with <a class="el" href="secure__debug__manager_8h.html#abd798a21aa90418982e5adb2b634d79d">SDMInitStep</a> SDM_Creating_Secure_Debug_Certificate with the current percent complete value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pSocId</td><td>SoC ID of the debugged system. Received by the Get SoC ID command. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">socIdLen</td><td>Size in bytes of the SoC ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pChallenge</td><td>Nonce that is randomized by the debugged system when it received the Get SoC ID command. The nonce must be used while signing the debug certificate with the SoCID. This response will not be sent by the debugged system if the IDR command was not issued. When the debugged system does not support challenge response, it fills this field with zeroes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">challangeLen</td><td>Size in bytes of challenge. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pCertificateBuffer</td><td>A client supplied buffer to receive the certificate data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufferLen</td><td>Size in bytes of the client supplied certificate buffer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">actualBufferLen</td><td>Updated with the number of bytes used in the certificate data buffer. It should be less or equal to bufferLen. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pDebugIf</td><td><a class="el" href="secure__debug__manager_8h.html#a328d41ea858b67dfde7795a07b713211">SDM_Init</a> connection details. Only used for progress reporting callbacks. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
